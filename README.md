# News Summarization Multi-Agent System

## 1 Описание проекта

FastAPI - приложение с двумя параллельно запускающимися агентами:
- агент-суммаризатор новости
- агент для выделения именованных сущностей

<img src="/assets/common_system.png" alt="Common system" style="height: 300px; width:475px;"/>

## 2 Установка и запуск

### 2.1 Установка Ollama

В качестве llm-модели для агентов использована qwen3:8b, развернутая через Ollama. Запрос от агентов к модели посылается на адресс http://localhost:11434.

Установка и запуск Ollama:

```
curl -fsSL https://ollama.com/install.sh | sh
ollama serve
```

Загрузка и запуск модели qwen3:8b (можно выбрать другую)
```
ollama pull qwen3:8b
ollama run qwen3:8b
```

Проверка, что модель работает:
```
ollama ps
```

### 2.2 Установка Python-окружения

Текущая версия проекта реализована без Docker. Для развертывания используется Python-скрипт.

```
git clone git@github.com:JaskierM/news-summarization.git
cd news-summarization
```

Рекомендуется использовать Python версии 3.11 - 3.13:
```
pip install -r requirements.txt
```

Запуск локального приложения (желательно запускать после ollama run qwen3:8b):
```
python run.py
```

После запуска приложение будет доступно по адресу: http://127.0.0.1:8080/summarize/news

### 3 Тестирование приложения

В notebooks/send_curl.ipynb реализовано простое тестирование приложения через Python-код.

Пример выходных данных:
```
{'summarization': {'thinking': None,
  'topic': 'duma_bill',
  'summary': 'Фракция ЛДПР внесла в Госдуму законопроект о переносе начала школьных уроков на 9:00. Инициатива направлена на сохранение здоровья обучающихся, их творческое развитие и семейное воспитание. Предполагается внести изменения в статью 13 закона «Об образовании в Российской Федерации». В пояснительной записке указано, что в выходные и праздничные дни возможны внеучебные мероприятия, не входящие в учебный план. Соавтор инициативы, глава думского комитета по охране здоровья Сергей Леонов отметил, что нагрузка на школьников высока, и перенос начала уроков на 9:00 позволит детям высыпаться и родителям отвезти их в школу перед работой. Также подчеркнуто, что пятидневная учебная неделя необходима для нормального семейного отдыха и восстановления учеников.',
  'bill': {'norm': 'ст. 13 закона «Об образовании в Российской Федерации»',
   'number': '№ 123456-8',
   'initiator': 'фракция ЛДПР',
   'search_keys': ['законопроект',
    'начало уроков',
    '9:00',
    'фракция ЛДПР',
    'статья 13',
    'об образовании']},
  'judge_ivanov': None},
 'ner_extraction': {'thinking': 'Проанализировал текст новости, выделил персоны, адреса и организации. Определил роли и связи по местам.',
  'ner_persons': [{'full_name': 'Леонид Слуцкий',
    'role': 'лидер ЛДПР',
    'addresses': []},
   {'full_name': 'Сергей Леонов',
    'role': 'главы думского комитета по охране здоровья',
    'addresses': []}]}}
```
